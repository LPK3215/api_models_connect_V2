# Backend (FastAPI)

This folder contains the FastAPI API layer and the processing core (cloud model batch pipeline).

## Requirements

- Python 3.10+

## Install

```powershell
cd backend
python -m pip install -r requirements.txt
```

## Configure API Keys

Keys are read from environment variables. `python-dotenv` is included and will auto-load the repo root `.env`.

Common env vars:

- `DASHSCOPE_API_KEY`
- `ARK_API_KEY`
- `MODELSCOPE_ACCESS_TOKEN`
- `HUNYUAN_API_KEY`

## Run (API)

```powershell
cd backend
python run_api.py
```

- OpenAPI: `http://127.0.0.1:8000/docs`
- API base prefix: `/api/v1`

## Run (CLI)

```powershell
cd backend
python run_cli.py --select
```

## Health / Status

- `GET /api/v1/system/health`
- `GET /api/v1/system/status`

## Tests / Checks

```powershell
cd backend
pytest -q
python scripts/check_auto.py
python scripts/check_interactive.py
```

## Config & Data Layout

- `backend/config/models.yml`: provider + model pool
- `backend/config/prompts/*.yml`: prompt library (YAML)
- `backend/config/task_history.json`: last runs (generated by backend)
- `backend/data/inputs/`: input samples + upload workspaces
- `backend/data/outputs/`: processing outputs (generated by backend)

